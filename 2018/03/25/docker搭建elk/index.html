<!DOCTYPE html>
<html>
<head>
    

    

    



    <meta charset="utf-8">
    
    
    
    <title>Docker搭建ELK | 切切切切切切图的 | \(•ิ_•ิ\) (/•ิ_•ิ)/</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="docker">
    <meta name="description" content="ELK由Elasticsearch、Logstash和Kibana三部分组件组成。">
<meta name="keywords" content="docker">
<meta property="og:type" content="article">
<meta property="og:title" content="Docker搭建ELK">
<meta property="og:url" content="http://lj360560179.github.io/2018/03/25/docker搭建elk/index.html">
<meta property="og:site_name" content="切切切切切切图的">
<meta property="og:description" content="ELK由Elasticsearch、Logstash和Kibana三部分组件组成。">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://ni484sha.com/images/elk1.png">
<meta property="og:image" content="http://ni484sha.com/images/elk2.png">
<meta property="og:image" content="http://ni484sha.com/images/elk3.png">
<meta property="og:image" content="http://ni484sha.com/images/elk4.png">
<meta property="og:image" content="http://ni484sha.com/images/elk5.png">
<meta property="og:updated_time" content="2018-09-06T09:35:14.860Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Docker搭建ELK">
<meta name="twitter:description" content="ELK由Elasticsearch、Logstash和Kibana三部分组件组成。">
<meta name="twitter:image" content="http://ni484sha.com/images/elk1.png">
    
        <link rel="alternate" type="application/atom+xml" title="切切切切切切图的" href="/atom.xml">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@latest/css/style.css">
    <script>window.lazyScripts=[]</script>
</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">顶顶</h5>
          <a href="mailto:360560179@qq.com" title="360560179@qq.com" class="mail">360560179@qq.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                Categories
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/lj360560179" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="http://wpa.qq.com/msgrd?v=3&uin=360560179&site=qq&menu=yes" target="_blank" >
                <i class="icon icon-lg icon-qq"></i>
                Qq
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">Docker搭建ELK</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="Search">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">Docker搭建ELK</h1>
        <h5 class="subtitle">
            
                <time datetime="2018-03-25T07:44:14.000Z" itemprop="datePublished" class="page-time">
  2018-03-25
</time>


            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#安装docker"><span class="post-toc-number">1.</span> <span class="post-toc-text">安装docker</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#elk安装前提"><span class="post-toc-number">2.</span> <span class="post-toc-text">elk安装前提</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#pull-elk镜像"><span class="post-toc-number">3.</span> <span class="post-toc-text">pull elk镜像</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#启动-elk"><span class="post-toc-number">4.</span> <span class="post-toc-text">启动 elk</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#配置"><span class="post-toc-number">5.</span> <span class="post-toc-text">配置</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#使用filebeat收集日志"><span class="post-toc-number">6.</span> <span class="post-toc-text">使用filebeat收集日志</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#配置logstash"><span class="post-toc-number">6.1.</span> <span class="post-toc-text">配置logstash</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#安装filebeat"><span class="post-toc-number">6.2.</span> <span class="post-toc-text">安装filebeat</span></a></li></ol></li></ol>
        </nav>
    </aside>
    
<article id="post-docker搭建elk"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">Docker搭建ELK</h1>
        <div class="post-meta">
            <time class="post-time" title="2018-03-25 15:44:14" datetime="2018-03-25T07:44:14.000Z"  itemprop="datePublished">2018-03-25</time>

            


            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


            

        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <p>ELK由Elasticsearch、Logstash和Kibana三部分组件组成。 </p>
<a id="more"></a>
<h3 id="安装docker"><a href="#安装docker" class="headerlink" title="安装docker"></a>安装docker</h3><p><a href="https://yq.aliyun.com/articles/110806?spm=5176.8351553.0.0.eea61991hgICTU" target="_blank" rel="noopener">安装docker</a></p>
<h3 id="elk安装前提"><a href="#elk安装前提" class="headerlink" title="elk安装前提"></a>elk安装前提</h3><ul>
<li>Docker至少得分配3GB的内存；</li>
<li>Elasticsearch至少需要单独2G的内存；</li>
<li><p>防火墙开放相关端口，执行以下命令开放相关端口；</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone=public --add-port=5601/tcp --permanent;firewall-cmd --reload;</span><br><span class="line">firewall-cmd --zone=public --add-port=9200/tcp --permanent;firewall-cmd --reload;</span><br><span class="line">firewall-cmd --zone=public --add-port=5044/tcp --permanent;firewall-cmd --reload;</span><br></pre></td></tr></table></figure>
</li>
<li><p>vm.max_map_count至少需要262144，附永久修改vm.max_map_count操作以下命令更改配置：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /etc</span><br><span class="line">vi sysctl.conf</span><br><span class="line">   增加以下属性后退出保存：</span><br><span class="line">   vm.max_map_count=262144</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="pull-elk镜像"><a href="#pull-elk镜像" class="headerlink" title="pull elk镜像"></a>pull elk镜像</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull sebp/elk</span><br></pre></td></tr></table></figure>
<p>该镜像包含了elk三个部分，比较方便，也可以单独拉起每个部分的镜像分开部署</p>
<h3 id="启动-elk"><a href="#启动-elk" class="headerlink" title="启动 elk"></a>启动 elk</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p 5601:5601 -p 9200:9200 -p 5044:5044  -it --name elk sebp/elk</span><br></pre></td></tr></table></figure>
<p>启动要一会,使用命令查看容器是否正常运行<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps</span><br></pre></td></tr></table></figure></p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="http://ni484sha.com/images/elk1.png" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>
<p>可以看到容器已经正常启动，打开浏览器，输入：http://你的ip:5601，看到如下界面说明安装成功，只是还没有数据<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="http://ni484sha.com/images/elk2.png" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><p>使用命令以下进入容器内，并执行命令<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -it elk /bin/bash </span><br><span class="line"></span><br><span class="line"><span class="comment">#测试</span></span><br><span class="line">/opt/logstash/bin/logstash --path.data /tmp/logstash/data  -e <span class="string">'input &#123; stdin &#123; &#125; &#125; output &#123; elasticsearch &#123; hosts =&gt; ["localhost"] &#125; &#125;'</span></span><br></pre></td></tr></table></figure></p>
<p>运行后等一会，出现下图则说明成功按配置启动logstash,测试命令的意思是配置 以命令行输入logstash,然后传输到elasticsearch,然后随便输入一下测试数据<br><img src="http://ni484sha.com/images/elk3.png" alt=""><br>再次打开Kibana可以看到已经有数据，然后让你配置，按提示配置后去Discover就能看到刚才的数据<br><img src="http://ni484sha.com/images/elk4.png" alt=""><br>如果看到这样的报错信息 Logstash could not be started because there is already another instance using the configured data directory. If you wish to run multiple instances, you must change the “path.data” setting. 请执行命令：service logstash stop 然后在执行就可以了。  </p>
<h3 id="使用filebeat收集日志"><a href="#使用filebeat收集日志" class="headerlink" title="使用filebeat收集日志"></a>使用filebeat收集日志</h3><p>Filebeat是一个日志文件托运工具，在你的服务器上安装客户端后，filebeat会监控日志目录或者指定的日志文件，追踪读取这些文件（追踪文件的变化，不停的读），并且转发这些信息到elasticsearch或者logstarsh中存放。<br>因为项目是跑在docker中，可能不再一个虚拟机上，在一台虚拟机也不再同一个容器中，所以需要通过docker volumes将docker中的日志文件挂载到虚拟机上的一个目录，然后每台虚拟机使用filebeat来收集日志然后发送到logstash，当然logstash还有其他方式传输日志，比如redis，kafka等。如下图<br><img src="http://ni484sha.com/images/elk5.png" alt=""></p>
<h4 id="配置logstash"><a href="#配置logstash" class="headerlink" title="配置logstash"></a>配置logstash</h4><p>使用filebeat需要修改logstash配置文件，默认的就是使用beat输入<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /etc/logstash/conf.d</span><br></pre></td></tr></table></figure></p>
<p>配置文件在容器中的conf.d目录下，修改目录下的02-beats-input.conf文件<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">input &#123;</span><br><span class="line">  beats &#123;</span><br><span class="line">    port =&gt; 5044</span><br><span class="line">    client_inactivity_timeout =&gt; 36000</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>client_inactivity_timeout为客户端连接超时时间,将证书的配置删除，如果你要配置证书，在filebeat也要配置，logstash配置还能做很多处理，比如<br><a href="http://grokdebug.herokuapp.com/patterns#" target="_blank" rel="noopener">grok解析</a><br>需要的可以去官网查看详细信息，修改成后重启docker 容器</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker restart elk</span><br></pre></td></tr></table></figure>
<h4 id="安装filebeat"><a href="#安装filebeat" class="headerlink" title="安装filebeat"></a>安装filebeat</h4><p>下载filebeat镜像<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull prima/filebeat</span><br></pre></td></tr></table></figure></p>
<p>启动前要配置filebeat.yml<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">###################### Filebeat Configuration Example #########################</span></span><br><span class="line"><span class="comment"># You can find the full configuration reference here:</span></span><br><span class="line"><span class="comment"># https://www.elastic.co/guide/en/beats/filebeat/index.html</span></span><br><span class="line">filebeat.prospectors:</span><br><span class="line">- <span class="built_in">type</span>: <span class="built_in">log</span></span><br><span class="line">  enabled: <span class="literal">true</span></span><br><span class="line">  <span class="comment">#配置filebeat要读取的log文件路径，有多个的话可以使用通配符或者多个paths节点配置</span></span><br><span class="line">  paths:</span><br><span class="line">    - /var/lib/docker/volumes/home/logs/service/*.<span class="built_in">log</span></span><br><span class="line">  tags: [<span class="string">"service"</span>]</span><br><span class="line">  multiline:</span><br><span class="line">      pattern: ^\d&#123;4&#125;</span><br><span class="line">      negate: <span class="literal">true</span></span><br><span class="line">      match: after</span><br><span class="line">  fields:</span><br><span class="line">    doc_type: service </span><br><span class="line"></span><br><span class="line">- <span class="built_in">type</span>: <span class="built_in">log</span> </span><br><span class="line">  enabled: <span class="literal">true</span></span><br><span class="line">  paths:</span><br><span class="line">    - /var/lib/docker/volumes/home/logs/app/*.<span class="built_in">log</span></span><br><span class="line">  tags: [<span class="string">"app"</span>]</span><br><span class="line">  multiline:</span><br><span class="line">      pattern: ^\d&#123;4&#125;</span><br><span class="line">      negate: <span class="literal">true</span></span><br><span class="line">      match: after</span><br><span class="line">  fields:</span><br><span class="line">    doc_type: app  </span><br><span class="line"></span><br><span class="line">- <span class="built_in">type</span>: <span class="built_in">log</span> </span><br><span class="line">  enabled: <span class="literal">true</span></span><br><span class="line">  paths:</span><br><span class="line">    - /var/lib/docker/volumes/home/logs/center/*.<span class="built_in">log</span></span><br><span class="line">  tags: [<span class="string">"center"</span>]</span><br><span class="line">  multiline:</span><br><span class="line">      pattern: ^\d&#123;4&#125;</span><br><span class="line">      negate: <span class="literal">true</span></span><br><span class="line">      match: after</span><br><span class="line">  fields:</span><br><span class="line">    doc_type: center    </span><br><span class="line"></span><br><span class="line">setup.kibana:</span><br><span class="line">output.logstash:</span><br><span class="line">  hosts: [<span class="string">"127.0.0.1:5044"</span>]</span><br><span class="line">  logging.metrics.enabled: <span class="literal">false</span></span><br></pre></td></tr></table></figure></p>
<p>上面是一个简单的列子，可以去<a href="https://www.elastic.co/guide/en/beats/filebeat/index.html" target="_blank" rel="noopener">官网</a>看详细配置</p>
<p>然后启动filebeat<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --name filebeat -v /home/filebeat/filebeat.yml:/filebeat.yml -v /var/lib/docker/volumes/:/var/lib/docker/volumes/ -v /home/filebeat/module:/module --net=host  prima/filebeat</span><br></pre></td></tr></table></figure></p>
<p>启动成功后配置文件中的监视目录下的日志文件就会传输到logstash中</p>

        </div>

        <blockquote class="post-copyright">
    <!-- <div class="content">
        
<span class="post-time">
    Last updated: <time datetime="2018-09-06T09:35:14.860Z" itemprop="dateUpdated">2018-09-06 17:35:14</time>
</span><br>


        
        这里可以写作者留言，标签和 hexo 中所有变量及辅助函数等均可调用，示例：<a href="/2018/03/25/docker搭建elk/" target="_blank" rel="external">http://lj360560179.github.io/2018/03/25/docker搭建elk/</a>
        
    </div> -->
    <footer>
        <a href="http://lj360560179.github.io">
            <img src="/img/avatar.jpg" alt="顶顶">
            顶顶
        </a>
    </footer>
</blockquote>

        


        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/docker/">docker</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://lj360560179.github.io/2018/03/25/docker搭建elk/&title=《Docker搭建ELK》 — 切切切切切切图的&pic=http://lj360560179.github.io/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://lj360560179.github.io/2018/03/25/docker搭建elk/&title=《Docker搭建ELK》 — 切切切切切切图的&source=ELK由Elasticsearch、Logstash和Kibana三部分组件组成。 " data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://lj360560179.github.io/2018/03/25/docker搭建elk/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Docker搭建ELK》 — 切切切切切切图的&url=http://lj360560179.github.io/2018/03/25/docker搭建elk/&via=http://lj360560179.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://lj360560179.github.io/2018/03/25/docker搭建elk/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/2018/04/23/ES写入查询流程图/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">ES写入查询流程</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/2018/02/25/mq使用场景/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">MQ使用场景</h4>
      </a>
    </div>
  
</nav>



    

<div class="comments" id="comments">
    <div class="ds-thread" data-thread-key="docker搭建elk" data-title="Docker搭建ELK" data-url="http://lj360560179.github.io/2018/03/25/docker搭建elk/"></div>
</div>
<script>
lazyScripts.push('//cdn.bootcss.com/marked/0.3.6/marked.min.js');

var duoshuoQuery = {short_name:'ni484sha', theme: 'none'};
lazyScripts.push('//unpkg.com/hexo-theme-material-indigo@latest/js/embed.min.js');


</script>










</article>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <!-- <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>This blog is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.</span>
        </p> -->
    </div>
    <!-- <div class="bottom">
        <p>
            <span>Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a></span>
            <span>顶顶 &copy; 2015 - 2018</span>
        </p>
    </div> -->
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://lj360560179.github.io/2018/03/25/docker搭建elk/&title=《Docker搭建ELK》 — 切切切切切切图的&pic=http://lj360560179.github.io/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://lj360560179.github.io/2018/03/25/docker搭建elk/&title=《Docker搭建ELK》 — 切切切切切切图的&source=ELK由Elasticsearch、Logstash和Kibana三部分组件组成。 " data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://lj360560179.github.io/2018/03/25/docker搭建elk/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Docker搭建ELK》 — 切切切切切切图的&url=http://lj360560179.github.io/2018/03/25/docker搭建elk/&via=http://lj360560179.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://lj360560179.github.io/2018/03/25/docker搭建elk/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACJ0lEQVR42u3aS2rDMBQF0Ox/0+m40Cj3SnbB0vGohNTSaeHxfq9X/LyHT/79/KzXHQ8GBsZjGckVW8b4/fl3inMxMDAOYIwD3/jVny6UB98xIwrKGBgYGB+uNf5k/Lbx+zEwMDCuDbhJYtfWoRgYGBhzRWyeGq4XyTfW4hgYGA9ktM36//z5lvkGBgbGoxjv8smD4zg1TMrd4lYYGBhbM/IAlzfu85C6UvRiYGCcw8iHi3OXnstV25CNgYFxAmOuZZ8vfrUpZj7m/BVwMTAwtma0qw9zR67g69QQAwNjI0ZboM4tYcytgtU8DAyMTRnrCd/K+tdcyfrl/4CBgbEpI0m82uQvX+Fql73+OBcDA2NrRnLpJOFr17zyP0GxxoGBgXEMIwl/+cpFW+62TbpXvk2GgYGxEWMljI7ryrkSt/hdDAyMTRkrgLl22x1DCAwMjHMY67PQtumWp5hfQjMGBsbWjLxETK6YJ475iZMjBwwMjK0Z9w0y57Yj8tCMgYGxN6MdT14VUtvA/eUOGBgYBzDaQjFpt+Vj0bkOPwYGxmmMdsEiYbcLFkvhGwMDY1PGu3xWUsm23V/U3xgYGFsz1qN1XmS2I4c6NcTAwNiakQfZJOFrk8KVgI6BgXEaIy9H89B8VRsuKrkxMDAwLvpOPmCoh6YYGBgYQarXDhLm2nOXBVwMDIwHMq4tLNuBQTIGuKwWx8DAeCAjLx3bI9slsPZzDAyMAxg/uIqJhxAMqVAAAAAASUVORK5CYII=" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: false };



</script>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/main.min.js"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/search.min.js" async></script>






<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = '你快回来~';
            clearTimeout(titleTime);
        } else {
            document.title = '(つェ⊂)咦!又好了!';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>
